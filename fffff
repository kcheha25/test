def generate_unique_color(existing_colors):
    while True:
        color = tuple(np.random.rand(3))  # Générer une nouvelle couleur (un tuple RGB)
        if color not in existing_colors:  # Vérifier si la couleur existe déjà
            existing_colors.add(color)  # Ajouter la nouvelle couleur à l'ensemble
            return color

# Visualisation des groupes avec des couleurs distinctes
def visualize_groups_with_overlay(image, outputs, feuillets, groups):
    v = Visualizer(image[:, :, ::-1], metadata=None, scale=1.0)
    
    # Créer un ensemble pour stocker les couleurs uniques
    existing_colors = set()
    
    # Générer des couleurs uniques pour chaque groupe
    colors = [generate_unique_color(existing_colors) for _ in groups]